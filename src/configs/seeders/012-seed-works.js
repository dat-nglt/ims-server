"use strict";

/**
 * Seeder 012: Seed Works (công việc)
 *
 * Tạo dữ liệu công việc mẫu với tất cả các trường từ work.model.js
 * Tham chiếu đầy đủ đến các đối tượng liên quan:
 * - Projects: project_id
 * - Customers: customer_id (nếu có)
 */

export async function up(queryInterface, Sequelize) {
  const works = [
    // Công việc 1: Lắp đặt máy lạnh - thi công trọn gói
    {
      work_code: "LQD-WORK-001",
      title: "Lắp đặt máy lạnh thi công trọn gói",
      description:
        "Lắp đặt hệ thống máy lạnh multi-split cho văn phòng 2 tầng tại ABC Company, bao gồm: 4 dàn lạnh trong nhà, 2 dàn nóng ngoài trời, đường ống đồng, dây điện cấp, và các phụ kiện kèm theo. Bảo hành 5 năm",
      category_id: 1,
      project_id: 1,
      created_by_sales_id: 1, // Nhân viên kinh doanh
      created_by: 1, // Người tạo công việc
      priority: "high",
      status: "completed",
      due_date: new Date("2025-12-25T00:00:00.000Z"),
      required_date: new Date("2025-12-19T00:00:00.000Z"),
      required_time_hour: "08",
      required_time_minute: "00",
      timeSlot: 8,
      location: "ABC Company - Văn phòng TP.HCM",
      customer_id: null,
      customer_name: "ABC Company",
      customer_phone: "0900111222",
      customer_address: "123 Đường A, Quận B, TP.HCM",
      location_lat: 10.8701,
      location_lng: 106.6625,
      estimated_hours: 8,
      actual_hours: null,
      estimated_cost: 8500000,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-10T09:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-10T09:00:00.000Z"),
      updated_at: new Date("2025-12-10T09:00:00.000Z"),
    },

    // Công việc 2: Bảo trì định kỳ máy lạnh
    {
      work_code: "LQD-WORK-002",
      title: "Bảo trì định kỳ máy lạnh",
      description:
        "Bảo trì định kỳ 4 dàn lạnh multi-split tại XYZ Ltd. Bao gồm: vệ sinh bộ lọc, kiểm tra gas, kiểm tra dòng điện, làm sạch dàn nóng, bơm nước thoát nước, kiểm tra van kỳ và các linh kiện",
      category_id: 2,
      project_id: 1,
      created_by_sales_id: 1, // Nhân viên kinh doanh
      created_by: 1, // Người tạo công việc
      priority: "medium",
      status: "completed",
      due_date: new Date("2025-12-20T00:00:00.000Z"),
      required_date: new Date("2025-12-18T00:00:00.000Z"),
      required_time_hour: "09",
      required_time_minute: "00",
      timeSlot: 9,
      location: "XYZ Ltd. - Kho hàng Hà Nội",
      customer_id: null,
      customer_name: "XYZ Ltd.",
      customer_phone: "0900222333",
      customer_address: "456 Đường C, Quận D, Hà Nội",
      location_lat: 21.0285,
      location_lng: 105.8542,
      estimated_hours: 4,
      actual_hours: 3.5,
      estimated_cost: 1200000,
      actual_cost: 1050000,
      payment_status: "paid",
      is_active: true,
      created_date: new Date("2025-12-01T09:00:00.000Z"),
      completed_date: new Date("2025-12-18T13:00:00.000Z"),
      created_at: new Date("2025-12-01T09:00:00.000Z"),
      updated_at: new Date("2025-12-18T13:00:00.000Z"),
    },

    // Công việc 3: Sửa chữa máy lạnh - hỏng dàn nóng
    {
      work_code: "LQD-WORK-003",
      title: "Sửa chữa máy lạnh - thay thế dàn nóng",
      description:
        "Sửa chữa máy lạnh multi-split bị hỏng dàn nóng. Tiến hành: tháo dàn nóng, kiểm tra hệ thống, thay thế dàn nóng mới, nạp gas R410A, kiểm tra lại toàn hệ thống, vận hành thử 30 phút",
      category_id: 3,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "urgent",
      status: "in_progress",
      due_date: new Date("2025-12-23T00:00:00.000Z"),
      required_date: new Date("2025-12-20T00:00:00.000Z"),
      required_time_hour: "07",
      required_time_minute: "30",
      timeSlot: 7,
      location: "Công ty ABC - Trụ sở chính",
      customer_id: null,
      customer_name: "Công ty ABC",
      customer_phone: "0900333444",
      customer_address: "789 Đường E, Quận F, TP.HCM",
      location_lat: 10.855,
      location_lng: 106.675,
      estimated_hours: 6,
      actual_hours: 2.5,
      estimated_cost: 3500000,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-19T10:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-19T10:00:00.000Z"),
      updated_at: new Date("2025-12-20T11:00:00.000Z"),
    },

    // Công việc 4: Lắp đặt máy lạnh ceiling cassette
    {
      work_code: "LQD-WORK-004",
      title: "Lắp đặt máy lạnh âm trần cassette",
      description:
        "Lắp đặt máy lạnh âm trần cassette 3 chiều cho phòng họp lớn. Bao gồm: thi công, cắt trần, lắp máy, đấu điện, nạp gas, kiểm tra. Công suất 28000 BTU, tiêu chuẩn Y tế",
      category_id: 1,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "high",
      status: "pending",
      due_date: new Date("2025-12-27T00:00:00.000Z"),
      required_date: new Date("2025-12-22T00:00:00.000Z"),
      required_time_hour: "08",
      required_time_minute: "00",
      timeSlot: 8,
      location: "Tòa nhà Hạng B, phòng họp tầng 5",
      customer_id: null,
      customer_name: "Công ty XYZ",
      customer_phone: "0900444555",
      customer_address: "321 Đường G, Quận H, Hà Nội",
      location_lat: 21.02,
      location_lng: 105.86,
      estimated_hours: 5,
      actual_hours: null,
      estimated_cost: 5200000,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-15T14:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-15T14:00:00.000Z"),
      updated_at: new Date("2025-12-15T14:00:00.000Z"),
    },

    // Công việc 5: Nạp gas máy lạnh (R410A)
    {
      work_code: "LQD-WORK-005",
      title: "Nạp gas máy lạnh - R410A",
      description:
        "Nạp gas máy lạnh multi-split hết gas do rò rỉ. Kiểm tra áp suất, sửa chữa điểm rò rỉ, nạp gas R410A 6kg, kiểm tra lại áp suất, vận hành kiểm tra nhiệt độ lạnh, cấp hóa đơn bảo hành 6 tháng",
      category_id: 2,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "urgent",
      status: "completed",
      due_date: new Date("2025-12-19T00:00:00.000Z"),
      required_date: new Date("2025-12-17T00:00:00.000Z"),
      required_time_hour: "14",
      required_time_minute: "30",
      timeSlot: 14,
      location: "Nhà hàng Hoàng Kim - TP.HCM",
      customer_id: null,
      customer_name: "Nhà hàng Hoàng Kim",
      customer_phone: "0900555666",
      customer_address: "654 Đường I, Quận J, TP.HCM",
      location_lat: 10.86,
      location_lng: 106.65,
      estimated_hours: 2,
      actual_hours: 1.75,
      estimated_cost: 1500000,
      actual_cost: 1400000,
      payment_status: "paid",
      is_active: true,
      created_date: new Date("2025-12-08T14:00:00.000Z"),
      completed_date: new Date("2025-12-17T16:15:00.000Z"),
      created_at: new Date("2025-12-08T14:00:00.000Z"),
      updated_at: new Date("2025-12-17T16:15:00.000Z"),
    },

    // Công việc 6: Vệ sinh máy lạnh định kỳ
    {
      work_code: "LQD-WORK-006",
      title: "Vệ sinh máy lạnh - bảo trì định kỳ",
      description:
        "Vệ sinh đầy đủ máy lạnh 6 bộ cho căn hộ. Bao gồm: tháo bộ lọc vệ sinh sạch, làm sạch tường dàn lạnh, làm sạch dàn nóng, kiểm tra đồng hồ gas, kiểm tra dòng điện, bơm nước thoát, kiểm tra van kỳ",
      category_id: 2,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "medium",
      status: "completed",
      due_date: new Date("2025-12-17T00:00:00.000Z"),
      required_date: new Date("2025-12-14T00:00:00.000Z"),
      required_time_hour: "10",
      required_time_minute: "00",
      timeSlot: 10,
      location: "Căn hộ Landmark 81 - TP.HCM",
      customer_id: null,
      customer_name: "Gia đình Nguyễn Văn A",
      customer_phone: "0900666777",
      customer_address: "987 Đường K, Quận L, TP.HCM",
      location_lat: 10.792,
      location_lng: 106.701,
      estimated_hours: 3,
      actual_hours: 3,
      estimated_cost: 900000,
      actual_cost: 900000,
      payment_status: "partial",
      is_active: true,
      created_date: new Date("2025-12-08T10:00:00.000Z"),
      completed_date: new Date("2025-12-14T13:00:00.000Z"),
      created_at: new Date("2025-12-08T10:00:00.000Z"),
      updated_at: new Date("2025-12-14T13:00:00.000Z"),
    },

    // Công việc 7: Lắp đặt máy lạnh tủ đứng
    {
      work_code: "LQD-WORK-007",
      title: "Lắp đặt máy lạnh tủ đứng",
      description:
        "Lắp đặt máy lạnh tủ đứng 2 chiều 18000 BTU cho phòng hợp nhỏ. Bao gồm: thi công, đấu điện 3 pha, nạp gas, kiểm tra, bảo hành 3 năm máy, 1 năm dịch vụ",
      category_id: 1,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "high",
      status: "completed",
      due_date: new Date("2025-12-24T00:00:00.000Z"),
      required_date: new Date("2025-12-21T00:00:00.000Z"),
      required_time_hour: "09",
      required_time_minute: "00",
      timeSlot: 9,
      location: "Trụ sở Công ty GHI - Bình Dương",
      customer_id: null,
      customer_name: "Công ty GHI",
      customer_phone: "0900777888",
      customer_address: "147 Đường M, Quận N, Bình Dương",
      location_lat: 10.805,
      location_lng: 106.759,
      estimated_hours: 4,
      actual_hours: null,
      estimated_cost: 4200000,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-12T09:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-12T09:00:00.000Z"),
      updated_at: new Date("2025-12-12T09:00:00.000Z"),
    },

    // Công việc 8: Sửa chữa máy lạnh - dàn lạnh chảy nước
    {
      work_code: "LQD-WORK-008",
      title: "Sửa chữa máy lạnh - dàn lạnh chảy nước",
      description:
        "Sửa chữa máy lạnh bị chảy nước từ dàn lạnh. Kiểm tra van kỳ, kiểm tra ống thoát nước, làm sạch ống thoát, thay thế ống thoát nước nếu bị tắc hoặc hỏng, kiểm tra lại, vận hành thử",
      category_id: 3,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "high",
      status: "completed",
      due_date: new Date("2025-12-16T00:00:00.000Z"),
      required_date: new Date("2025-12-13T00:00:00.000Z"),
      required_time_hour: "13",
      required_time_minute: "00",
      timeSlot: 13,
      location: "Văn phòng Công ty JKL - Vũng Tàu",
      customer_id: null,
      customer_name: "Công ty JKL",
      customer_phone: "0900888999",
      customer_address: "258 Đường O, Quận P, Vũng Tàu",
      location_lat: 10.3431,
      location_lng: 107.0841,
      estimated_hours: 2,
      actual_hours: 1.5,
      estimated_cost: 800000,
      actual_cost: 700000,
      payment_status: "paid",
      is_active: true,
      created_date: new Date("2025-12-13T13:00:00.000Z"),
      completed_date: new Date("2025-12-13T14:30:00.000Z"),
      created_at: new Date("2025-12-13T13:00:00.000Z"),
      updated_at: new Date("2025-12-13T14:30:00.000Z"),
    },

    // Công việc 9: Tối ưu hóa hệ thống máy lạnh
    {
      work_code: "LQD-WORK-009",
      title: "Tối ưu hóa hệ thống máy lạnh",
      description:
        "Phân tích và tối ưu hóa hiệu suất hệ thống máy lạnh multi-split. Kiểm tra áp suất gas, kiểm tra dòng điện, đo nhiệt độ bên ngoài/trong, cải thiện lưu thông khí, kiểm tra tất cả van kỳ, tối ưu hóa công suất",
      category_id: 2,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "medium",
      status: "in_progress",
      due_date: new Date("2025-12-28T00:00:00.000Z"),
      required_date: new Date("2025-12-23T00:00:00.000Z"),
      required_time_hour: "09",
      required_time_minute: "00",
      timeSlot: 9,
      location: "Trung tâm thương mại LIM Center",
      customer_id: null,
      customer_name: "Công ty MNO",
      customer_phone: "0900999000",
      customer_address: "369 Đường Q, Hóc Môn, TP.HCM",
      location_lat: 10.87,
      location_lng: 106.63,
      estimated_hours: 6,
      actual_hours: 2.5,
      estimated_cost: 2000000,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-16T09:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-16T09:00:00.000Z"),
      updated_at: new Date("2025-12-20T10:00:00.000Z"),
    },

    // Công việc 10: Tư vấn và lắp đặt máy lạnh cho nhà mới
    {
      work_code: "LQD-WORK-010",
      title: "Tư vấn và lắp đặt máy lạnh nhà mới",
      description:
        "Tư vấn, thiết kế và lắp đặt hệ thống máy lạnh toàn bộ cho nhà mới 250m2. Bao gồm: tư vấn giải pháp, thiết kế lưu thông khí, cắt tường, lắp ống đồng, dây điện, nạp gas, kiểm tra chất lượng, cấp hóa đơn, bảo hành 5 năm",
      category_id: 1,
      project_id: 1,
      created_by_sales_id: 1,
      created_by: 1,
      priority: "high",
      status: "pending",
      due_date: new Date("2026-01-10T00:00:00.000Z"),
      required_date: new Date("2026-01-05T00:00:00.000Z"),
      required_time_hour: "08",
      required_time_minute: "00",
      timeSlot: 8,
      location: "Biệt thự Phú Mỹ Hưng - Quận 7, TP.HCM",
      customer_id: null,
      customer_name: "Công ty PQR",
      customer_phone: "0901000111",
      customer_address: "741 Đường S, Phú Mỹ Hưng, TP.HCM",
      location_lat: 10.73,
      location_lng: 106.7,
      estimated_hours: 12,
      actual_hours: null,
      estimated_cost: 9999999.99,
      actual_cost: null,
      payment_status: "unpaid",
      is_active: true,
      created_date: new Date("2025-12-20T10:00:00.000Z"),
      completed_date: null,
      created_at: new Date("2025-12-20T10:00:00.000Z"),
      updated_at: new Date("2025-12-20T10:00:00.000Z"),
    },
  ];

  await queryInterface.bulkInsert("works", works, {});
}

export async function down(queryInterface, Sequelize) {
  await queryInterface.bulkDelete("works", { id: { [Sequelize.Op.in]: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] } }, {});
}
